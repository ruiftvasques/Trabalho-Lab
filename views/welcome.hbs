<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Document</title>
</head>

<body>
    <style>
        body {
            width: auto;
            margin: 0px;
        }

        .titulo {
            position: fixed;
            height: 50%;
            background-position: center;
            background-repeat: no-repeat;
            background-size: cover;
            position: relative;
            width: auto;
            height: 300px;
            background-image: url("images/nuvens.jpg");

        }

        .titulo h1 {
            text-align: center;
            position: absolute;
            font-size: 40px;
            top: 40%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: white;
            filter: drop-shadow(8px 8px 10px black);
        }

        .titulo h3 {
            text-align: center;
            position: absolute;
            font-size: 15px;
            top: 65%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: rgb(0, 0, 0);
        }

        h1,
        h3,
        p {
            font-family: Arial, Helvetica, sans-serif;
        }

        button {
            background-color: transparent;
            border: none;
        }

        input {
            border-radius: 50px;
            border: none;
        }

        .atual {
            position: relative;
            margin-top: 30px;
            margin-bottom: 30px;
        }

        .principal {
            display: inline-block;
            left: 30px;
            width: 30%;
            height: 250px;
            padding: 30px;
            background-color: rgb(0, 130, 252);
            color: white;
            text-align: center;
        }

        .secundario {
            display: inline-block;
            width: 60%;
            float: right;
            height: 250px;
            padding: 30px;
            color: white;
            background-color: rgb(137, 195, 250);
        }

        form {
            float: right;
        }

        a:link {
            text-decoration: none;
            color: white;
            margin-right: 50px;
        }

        a:visited {
            color: white;
        }

        .botoes {
            text-align: left;
            padding: 10px;
            padding-left: 30px;
            width: auto;
            background-color: rgba(0, 130, 252, 0.514);
            position: relative;
            font-family: Arial, Helvetica, sans-serif;
            text-decoration-line: none;
            color: white;
        }

        .favoritos {
            position: relative;
            font-size: 12px;
            height: auto;

            font-family: Arial, Helvetica, sans-serif;
        }

        .dropdown {
            position: relative;
            display: inline-block;
        }

        .dropdown-content {
            display: none;
            position: absolute;
            background-color: rgba(210, 224, 236, 0.514);
            min-width: 180px;
            box-shadow: 0px 8px 16px 0px rgba(0, 0, 0, 0.2);
            padding: 12px 16px;
            z-index: 1;
            text-align: left;
        }

        .dropdown:hover .dropdown-content {
            display: block;
        }



        .form-group button {
            display: block;
            color: white;
            float: right;
            /*padding: 5px;*/
        }

        .list-group-item a {
            color: black;
        }

        li {
            list-style-type: none;
        }

        #slide-2 {
            position: relative;
            width: 95.5%;
            height: 270px;
            padding: 30px;
            color: black;
            background-color: rgba(0, 130, 252, 0.514);
        }

        #slide-2 div {

            display: inline-block;
            margin-top: 0px;
            width: 150px;
            height: 250px;
            padding: 10px;
            position: relative;
            font-size: 10px;
            color: white;
            vertical-align: top;
            background-color: rgb(0, 130, 252);
            text-align: center;
        }

        #slide-3 {
            position: relative;
            margin-top: 30px;
            height: 270px;
            width: 101%;
            color: black;
        }

        #slide-3 div {
            display: inline-block;
            margin-top: 0px;
            float: left;
            width: 33%;
            height: 250px;
            margin: 0px;
            position: relative;
            font-size: 10px;
            color: white;
            vertical-align: top;
            text-align: center;
        }

        .um {
            background-color: rgb(0, 130, 252);
        }

        .dois {
            background-color: rgb(66, 161, 250);
        }

        .tres {
            background-color: rgb(137, 195, 250);
        }
    </style>

    <body>
        <div class="slider">
            <div class="favoritos">
                <div class="titulo">
                    <div class="botoes">
                        <a href="">NOW</a>
                        <a href="#slide-2">HOUR</a>
                        <a href="#slide-3">WEEK</a>


                        <div class="dropdown">

                            <span>FAVORITES</span>
                            <div class="dropdown-content">
                                <p id="morada-list-text">no favorites</p>
                                <p class="list-group" id="morada-list"></p>

                            </div>
                        </div>
                        <form action="/weather">
                            <input type="text" name="local" id="item" />
                            <button type="submit" id="enviar">
                                <img src="images/procurar.png" width="17px" align="center">
                            </button>
                        </form>

                        <form class="form-vertical">
                            <div class="form-group">
                                <button type="submit" id="adicionar" class="btn btn-primary">Add Favorites</button>
                                <button type="reset" id="clean" class="btn btn-secondary">Clear</button>
                            </div>
                    </div>


                    <h1>{{title}}</h1>



                    <h3>{{subtitle}}</h3>
                </div>
            </div>


            <div class="slides">
                <div id="slide-1">

                    {{!--
                    <form action="/">
                        <input type="text" name="local" id="item" />
                        <button type="submit" id="enviar"> Enviar</button>
                    </form> --}}
                    <div class="atual">

                        <div class="principal">
                            <h1>
                                <b>{{title1}}</b>
                            </h1>
                            <p>
                                <b>{{text1}}</b>
                            </p>
                            <p>{{text2}}</p>
                            <p>{{text5}}</p>

                            <img src="./images/{{text3}}.png" alt="{{text3}}" width="60px" height="60px">
                        </div>
                        <div class="secundario">
                            <p>{{text4}}</p>
                            <p>{{text6}}</p>
                            <p>{{text7}}</p>
                            <p>{{text8}}</p>
                            <p>{{text9}}</p>
                        </div>
                    </div>
                </div>

                <div id="slide-2">
                    <div>

                        <h3>
                            <b>{{title2}}</b>
                        </h3>
                        <p>
                            <b>{{text10}}</b>
                        </p>
                        <img src="./images/{{text11}}.png" alt="{{text11}}" width="30px" height="30px">
                        <p>{{text12}}</p>
                        <p>{{text15}}</p>
                        <p>{{text14}}</p>
                        <p>{{text16}}</p>
                        <p>{{text17}}</p>
                        <p>{{text18}}</p>
                        <p>{{text19}}</p>

                    </div>
                    <div>

                        <h3>
                            <b>{{title3}}</b>
                        </h3>
                        <p>
                            <b>{{text21}}</b>
                        </p>
                        <img src="./images/{{text20}}.png" alt="{{text20}}" width="30px" height="30px">
                        <p>{{text25}}</p>
                        <p>{{text26}}</p>
                        <p>{{text22}}</p>
                        <p>{{text23}}</p>
                        <p>{{text24}}</p>
                        <p>{{text27}}</p>

                    </div>
                    <div>

                        <h3>
                            <b>{{title4}}</b>
                        </h3>
                        <p>
                            <b>{{text31}}</b>
                        </p>
                        <img src="./images/{{text30}}.png" alt="{{text30}}" width="30px" height="30px">

                        <p>{{text32}}</p>
                        <p>{{text33}}</p>
                        <p>{{text34}}</p>
                        <p>{{text35}}</p>
                        <p>{{text36}}</p>
                        <p>{{text37}}</p>

                    </div>
                    <div>

                        <h3>
                            <b>{{title5}}</b>
                        </h3>
                        <p>
                            <b>{{text41}}</b>
                        </p>
                        <img src="./images/{{text40}}.png" alt="{{text40}}" width="30px" height="30px">

                        <p>{{text42}}</p>
                        <p>{{text43}}</p>
                        <p>{{text44}}</p>
                        <p>{{text45}}</p>
                        <p>{{text46}}</p>
                        <p>{{text47}}</p>

                    </div>
                    <div>

                        <h3>
                            <b>{{title6}}</b>
                        </h3>
                        <p>
                            <b>{{text51}}</b>
                        </p>
                        <img src="./images/{{text50}}.png" alt="{{text50}}" width="30px" height="30px">

                        <p>{{text52}}</p>
                        <p>{{text53}}</p>
                        <p>{{text54}}</p>
                        <p>{{text55}}</p>
                        <p>{{text56}}</p>
                        <p>{{text57}}</p>
                    </div>
                    <div>
                        <h3>
                            <b>{{title7}}</b>
                        </h3>
                        <p>
                            <b>{{text61}}</b>
                        </p>
                        <img src="./images/{{text60}}.png" alt="{{text60}}" width="30px" height="30px">

                        <p>{{text62}}</p>
                        <p>{{text63}}</p>
                        <p>{{text64}}</p>
                        <p>{{text65}}</p>
                        <p>{{text66}}</p>
                        <p>{{text67}}</p>
                    </div>
                    <div>
                        <h3>
                            <b>{{title8}}</b>
                        </h3>
                        <p>
                            <b>{{text71}}</b>
                        </p>
                        <img src="./images/{{text70}}.png" alt="{{text70}}" width="30px" height="30px">

                        <p>{{text72}}</p>
                        <p>{{text73}}</p>
                        <p>{{text74}}</p>
                        <p>{{text75}}</p>
                        <p>{{text76}}</p>
                        <p>{{text77}}</p>
                    </div>
                </div>
                <div id="slide-3">
                    <div class="um">
                        <h3>
                            <b>{{title9}}</b>
                            </p>
                            <p>
                                <b>{{text82}}</b>
                            </p>
                            <img src="./images/{{text83}}.png" alt="{{text83}}" width="30px" height="30px">
                            <p>{{text84}}</p>
                            <p>{{text85}}</p>
                            <p>{{text86}}</p>
                            <p>{{text87}}</p>
                            <p>{{text88}}</p>
                            <p>{{text89}}</p>
                    </div>
                    <div class="dois">
                        <h3>
                            <b>{{title10}}</b>
                        </h3>
                        <p>
                            <b>{{text90}}</b>
                        </p>
                        <img src="./images/{{text91}}.png" alt="{{text91}}" width="30px" height="30px">
                        <p>{{text92}}</p>
                        <p>{{text93}}</p>
                        <p>{{text94}}</p>
                        <p>{{text95}}</p>
                        <p>{{text96}}</p>
                        <p>{{text97}}</p>
                    </div>
                    <div class="tres">
                        <h3>
                            <b>{{title11}}</b>
                        </h3>
                        <p>
                            <b>{{text100}}</b>
                        </p>
                        <img src="./images/{{text101}}.png" alt="{{text101}}" width="30px" height="30px">
                        <p>{{text102}}</p>
                        <p>{{text103}}</p>
                        <p>{{text104}}</p>
                        <p>{{text105}}</p>
                        <p>{{text106}}</p>
                        <p>{{text107}}</p>
                    </div>
                </div>

            </div>
        </div>






        <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
            crossorigin="anonymous"></script>
        <script>

            $(document).ready(function () {

                $("#morada-list").hide();
                $("#item").focus();

                /*
                 * check browser supports local storage
                 */
                if (localStorage) {

                    var moradaList_string = localStorage.getItem('moradaList');
                    if (moradaList_string) {
                        $("#morada-list-text").hide();
                        $("#morada-list").show();
                        var moradaList = JSON.parse(moradaList_string);
                        console.log(moradaList);
                        $.each(moradaList, (index, text) => {
                            //$("#morada-list").append(`<p class="list-group-item">${text}</p>`);
                            $("#morada-list").append(`<li class="list-group-item"><a href="http://localhost:3500/weather?local=${text}">${text}</a></li>`);

                        });
                    }

                    $("form")
                        /*
                         * clear local storage when the form is reseted
                         */
                        .on('reset', function () {
                            console.log('cleaning!...');
                            localStorage.clear();
                            location.reload();
                        })
                    /*
                     * add to local storage when the form is submitted
                     */
                    document.getElementById("adicionar").onclick = function () {

                        var moradaList_string = localStorage.getItem('moradaList');
                        var moradaList = [];

                        if (moradaList_string) {
                            moradaList = JSON.parse(moradaList_string);
                        }
                        moradaList.push($("#item").val());
                        localStorage.setItem('moradaList', JSON.stringify(moradaList));
                        console.log(localStorage);
                    }


                }
            });
        </script>


    </body>

</html>